{# templates/components/api_tree.html.twig #}
<div {{ stimulus_controller(this.stimulusController, {
    api_call: apiUrl|default(api_route(this.class)),
    filter: this.filter
}) }}>
    <div class="mb-2 d-flex gap-2">
        <input
                type="search"
                class="form-control"
                placeholder="Search tree..."
                {{ stimulus_action(this.stimulusController, 'search', 'input') }}
        />
        <button
                type="button"
                class="btn btn-outline-secondary"
                {{ stimulus_action(this.stimulusController, 'clearSearch') }}
        >Clear</button>
    </div>

    <div class="small text-muted mb-2" {{ stimulus_target(this.stimulusController, 'message') }}>Loading tree...</div>

    <div {{ stimulus_target(this.stimulusController, 'ajax') }}>
        <ul><li>Loading...</li></ul>
    </div>
</div>
